{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Administrator\\\\Videos\\\\infinite-scroll\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Administrator\\\\Videos\\\\infinite-scroll\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport { Vector4 } from 'three';\nimport { calcSurfacePoint } from './NURBSUtils.js';\n\n/**\n * NURBS surface object\n *\n * Implementation is based on (x, y [, z=0 [, w=1]]) control points with w=weight.\n **/\nvar NURBSSurface = /*#__PURE__*/function () {\n  function NURBSSurface(degree1, degree2, knots1, knots2\n  /* arrays of reals */, controlPoints\n  /* array^2 of Vector(2|3|4) */) {\n    _classCallCheck(this, NURBSSurface);\n    this.degree1 = degree1;\n    this.degree2 = degree2;\n    this.knots1 = knots1;\n    this.knots2 = knots2;\n    this.controlPoints = [];\n    var len1 = knots1.length - degree1 - 1;\n    var len2 = knots2.length - degree2 - 1; // ensure Vector4 for control points\n\n    for (var i = 0; i < len1; ++i) {\n      this.controlPoints[i] = [];\n      for (var j = 0; j < len2; ++j) {\n        var point = controlPoints[i][j];\n        this.controlPoints[i][j] = new Vector4(point.x, point.y, point.z, point.w);\n      }\n    }\n  }\n  _createClass(NURBSSurface, [{\n    key: \"getPoint\",\n    value: function getPoint(t1, t2, target) {\n      var u = this.knots1[0] + t1 * (this.knots1[this.knots1.length - 1] - this.knots1[0]); // linear mapping t1->u\n\n      var v = this.knots2[0] + t2 * (this.knots2[this.knots2.length - 1] - this.knots2[0]); // linear mapping t2->u\n\n      calcSurfacePoint(this.degree1, this.degree2, this.knots1, this.knots2, this.controlPoints, u, v, target);\n    }\n  }]);\n  return NURBSSurface;\n}();\nexport { NURBSSurface };","map":null,"metadata":{},"sourceType":"module"}