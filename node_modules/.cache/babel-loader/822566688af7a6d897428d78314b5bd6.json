{"ast":null,"code":"import _classCallCheck from \"F:\\\\Train\\\\Three.js\\\\New folder\\\\infinite-scroll_mid\\\\infinite-scroll\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\Train\\\\Three.js\\\\New folder\\\\infinite-scroll_mid\\\\infinite-scroll\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { GLTFLoader } from '../loaders/GLTFLoader.js';\nvar DEFAULT_HAND_PROFILE_PATH = 'https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles/generic-hand/';\nvar XRHandMeshModel = /*#__PURE__*/function () {\n  function XRHandMeshModel(handModel, controller) {\n    var _this = this;\n    var path = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_HAND_PROFILE_PATH;\n    var handedness = arguments.length > 3 ? arguments[3] : undefined;\n    var customModelPath = arguments.length > 4 ? arguments[4] : undefined;\n    _classCallCheck(this, XRHandMeshModel);\n    _defineProperty(this, \"controller\", void 0);\n    _defineProperty(this, \"handModel\", void 0);\n    _defineProperty(this, \"bones\", void 0);\n    this.controller = controller;\n    this.handModel = handModel;\n    this.bones = [];\n    var loader = new GLTFLoader();\n    if (!customModelPath) loader.setPath(path);\n    loader.load(customModelPath != null ? customModelPath : \"\".concat(handedness, \".glb\"), function (gltf) {\n      var object = gltf.scene.children[0];\n      _this.handModel.add(object);\n      var mesh = object.getObjectByProperty('type', 'SkinnedMesh');\n      mesh.frustumCulled = false;\n      mesh.castShadow = true;\n      mesh.receiveShadow = true;\n      var joints = ['wrist', 'thumb-metacarpal', 'thumb-phalanx-proximal', 'thumb-phalanx-distal', 'thumb-tip', 'index-finger-metacarpal', 'index-finger-phalanx-proximal', 'index-finger-phalanx-intermediate', 'index-finger-phalanx-distal', 'index-finger-tip', 'middle-finger-metacarpal', 'middle-finger-phalanx-proximal', 'middle-finger-phalanx-intermediate', 'middle-finger-phalanx-distal', 'middle-finger-tip', 'ring-finger-metacarpal', 'ring-finger-phalanx-proximal', 'ring-finger-phalanx-intermediate', 'ring-finger-phalanx-distal', 'ring-finger-tip', 'pinky-finger-metacarpal', 'pinky-finger-phalanx-proximal', 'pinky-finger-phalanx-intermediate', 'pinky-finger-phalanx-distal', 'pinky-finger-tip'];\n      joints.forEach(function (jointName) {\n        var bone = object.getObjectByName(jointName);\n        if (bone !== undefined) {\n          bone.jointName = jointName;\n        } else {\n          console.warn(\"Couldn't find \".concat(jointName, \" in \").concat(handedness, \" hand mesh\"));\n        }\n        _this.bones.push(bone);\n      });\n    });\n  }\n  _createClass(XRHandMeshModel, [{\n    key: \"updateMesh\",\n    value: function updateMesh() {\n      // XR Joints\n      var XRJoints = this.controller.joints;\n      for (var i = 0; i < this.bones.length; i++) {\n        var bone = this.bones[i];\n        if (bone) {\n          var XRJoint = XRJoints[bone.jointName];\n          if (XRJoint.visible) {\n            var position = XRJoint.position;\n            bone.position.copy(position);\n            bone.quaternion.copy(XRJoint.quaternion); // bone.scale.setScalar( XRJoint.jointRadius || defaultRadius );\n          }\n        }\n      }\n    }\n  }]);\n  return XRHandMeshModel;\n}();\nexport { XRHandMeshModel };","map":null,"metadata":{},"sourceType":"module"}