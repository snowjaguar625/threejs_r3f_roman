{"ast":null,"code":"import * as React from 'react';\nimport { useThree } from '@react-three/fiber';\nfunction AdaptiveDpr(_ref) {\n  var pixelated = _ref.pixelated;\n  var gl = useThree(function (state) {\n    return state.gl;\n  });\n  var active = useThree(function (state) {\n    return state.internal.active;\n  });\n  var current = useThree(function (state) {\n    return state.performance.current;\n  });\n  var initialDpr = useThree(function (state) {\n    return state.viewport.initialDpr;\n  });\n  var setDpr = useThree(function (state) {\n    return state.setDpr;\n  }); // Restore initial pixelratio on unmount\n\n  React.useEffect(function () {\n    var domElement = gl.domElement;\n    return function () {\n      if (active) setDpr(initialDpr);\n      if (pixelated && domElement) domElement.style.imageRendering = 'auto';\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); // Set adaptive pixelratio\n\n  React.useEffect(function () {\n    setDpr(current * initialDpr);\n    if (pixelated && gl.domElement) gl.domElement.style.imageRendering = current === 1 ? 'auto' : 'pixelated'; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [current]);\n  return null;\n}\nexport { AdaptiveDpr };","map":null,"metadata":{},"sourceType":"module"}