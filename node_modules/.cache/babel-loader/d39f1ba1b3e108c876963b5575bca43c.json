{"ast":null,"code":"import _objectWithoutProperties from \"C:\\\\Users\\\\Administrator\\\\Videos\\\\infinite-scroll\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Videos\\\\infinite-scroll\\\\src\\\\App.js\";\nimport React from 'react';\nimport * as THREE from 'three';\nimport { Suspense, useRef } from 'react';\nimport { Canvas, useFrame, useThree } from '@react-three/fiber';\nimport { ScrollControls, Scroll, useScroll, Preload, Image as ImageImpl } from '@react-three/drei';\nfunction Image(props) {\n  var ref = useRef();\n  var group = useRef();\n  var data = useScroll();\n  useFrame(function (state, delta) {\n    group.current.position.z = THREE.MathUtils.damp(group.current.position.z, Math.max(0, data.delta * 50), 4, delta);\n    ref.current.material.grayscale = THREE.MathUtils.damp(ref.current.material.grayscale, Math.max(0, 1 - data.delta * 1000), 4, delta);\n  });\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: group,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ImageImpl, Object.assign({\n    ref: ref\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }\n  })));\n}\nfunction Page(_ref) {\n  var _ref$m = _ref.m,\n    m = _ref$m === void 0 ? 0.4 : _ref$m,\n    urls = _ref.urls,\n    props = _objectWithoutProperties(_ref, [\"m\", \"urls\"]);\n  var _useThree = useThree(function (state) {\n      return state.viewport;\n    }),\n    width = _useThree.width;\n  var w = width < 10 ? 1.5 / 3 : 1 / 3;\n  return /*#__PURE__*/React.createElement(\"group\", Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Image, {\n    position: [-width * w, 0, -1],\n    scale: [width * w - m * 2, 5, 1],\n    url: urls[0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Image, {\n    position: [0, 0, 0],\n    scale: [width * w - m * 2, 5, 1],\n    url: urls[1],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Image, {\n    position: [width * w, 0, 1],\n    scale: [width * w - m * 2, 5, 1],\n    url: urls[2],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }));\n}\nfunction Pages() {\n  var _useThree2 = useThree(function (state) {\n      return state.viewport;\n    }),\n    width = _useThree2.width;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Page, {\n    position: [width * 0, 0, 0],\n    urls: ['/img1.jpg', '/img2.jpg', '/img3.jpg'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }));\n}\nfunction Backs() {\n  var _useThree3 = useThree(function (state) {\n      return state.viewport;\n    }),\n    width = _useThree3.width;\n  var w = width < 10 ? 1.5 / 3 : 1 / 3;\n  return /*#__PURE__*/React.createElement(\"group\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    position: [-width * w, 0, -1],\n    scale: [width / 3, 5, 1],\n    url: \"/img1.jpg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Image, {\n    position: [0, 0, 0],\n    scale: [width / 3, 5, 1],\n    url: '/img2.jpg',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Image, {\n    position: [width * w, 0, 1],\n    scale: [width / 3, 5, 1],\n    url: '/img3.jpg',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }));\n}\nexport default function App() {\n  return /*#__PURE__*/React.createElement(Canvas, {\n    gl: {\n      antialias: false\n    },\n    dpr: [1, 1.5],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Suspense, {\n    fallback: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ScrollControls, {\n    horizontal: true,\n    damping: 4,\n    pages: 4,\n    distance: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Scroll, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Backs, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Scroll, {\n    html: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      position: 'absolute',\n      top: '20vh',\n      left: '25vw'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \"to\"))), /*#__PURE__*/React.createElement(Preload, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"names":["React","THREE","Suspense","useRef","Canvas","useFrame","useThree","ScrollControls","Scroll","useScroll","Preload","Image","ImageImpl","props","ref","group","data","state","delta","current","position","z","MathUtils","damp","Math","max","material","grayscale","Page","m","urls","viewport","width","w","Pages","Backs","App","antialias","top","left"],"sources":["C:/Users/Administrator/Videos/infinite-scroll/src/App.js"],"sourcesContent":["import React from 'react';\nimport * as THREE from 'three'\nimport { Suspense, useRef } from 'react'\nimport { Canvas, useFrame, useThree } from '@react-three/fiber'\nimport { ScrollControls, Scroll, useScroll, Preload, Image as ImageImpl } from '@react-three/drei'\n\nfunction Image(props) {\n  const ref = useRef()\n  const group = useRef()\n  const data = useScroll()\n  useFrame((state, delta) => {\n    group.current.position.z = THREE.MathUtils.damp(group.current.position.z, Math.max(0, data.delta * 50), 4, delta)\n    ref.current.material.grayscale = THREE.MathUtils.damp(ref.current.material.grayscale, Math.max(0, 1 - data.delta * 1000), 4, delta)\n  })\n  return (\n    <group ref={group}>\n      <ImageImpl ref={ref} {...props} />\n    </group>\n  )\n}\n\nfunction Page({ m = 0.4, urls, ...props }) {\n  const { width } = useThree((state) => state.viewport)\n  const w = width < 10 ? 1.5 / 3 : 1 / 3\n  return (\n    <group {...props}>\n      <Image position={[-width * w, 0, -1]} scale={[width * w - m * 2, 5, 1]} url={urls[0]} />\n      <Image position={[0, 0, 0]} scale={[width * w - m * 2, 5, 1]} url={urls[1]} />\n      <Image position={[width * w, 0, 1]} scale={[width * w - m * 2, 5, 1]} url={urls[2]} />\n    </group>\n  )\n}\n\nfunction Pages() {\n  const { width } = useThree((state) => state.viewport)\n  return (\n    <>\n      {/* <Page position={[-width * 1, 0, 0]} urls={['/trip1.jpg', '/trip2.jpg', '/trip3.jpg']} /> */}\n      <Page position={[width * 0, 0, 0]} urls={['/img1.jpg', '/img2.jpg', '/img3.jpg']} />\n      {/* <Page position={[width * 1, 0, 0]} urls={['/img4.jpg', '/img5.jpg', '/img6.jpg']} /> */}\n      {/* <Page position={[width * 2, 0, 0]} urls={['/trip1.jpg', '/trip2.jpg', '/trip3.jpg']} /> */}\n      {/* <Page position={[width * 3, 0, 0]} urls={['/img1.jpg', '/img2.jpg', '/img3.jpg']} /> */}\n      {/* <Page position={[width * 4, 0, 0]} urls={['/img4.jpg', '/img5.jpg', '/img6.jpg']} /> */}\n    </>\n  )\n}\n\nfunction Backs() {\n  const { width } = useThree((state) => state.viewport)\n  const w = width < 10 ? 1.5 / 3 : 1 / 3\n  return (\n    <group>\n      <Image position={[-width * w, 0, -1]} scale={[width/3, 5, 1]} url={\"/img1.jpg\"} />\n      <Image position={[0, 0, 0]} scale={[width/3, 5, 1]} url={'/img2.jpg'} />\n      <Image position={[width * w, 0, 1]} scale={[width/3, 5, 1]} url={'/img3.jpg'} />\n    </group>\n  )\n}\n\nexport default function App() {\n  \n  return (\n    <Canvas gl={{ antialias: false }} dpr={[1, 1.5]}>\n      <Suspense fallback={null}>\n        <ScrollControls horizontal damping={4} pages={4} distance={1}>\n          <Scroll>\n            {/* <Pages /> */}\n            <Backs />\n          </Scroll>\n          <Scroll html>\n            {/* <h1 style={{ position: 'absolute', top: '20vh', left: '-75vw' }}>home</h1> */}\n            <h1 style={{ position: 'absolute', top: '20vh', left: '25vw' }}>to</h1>\n            {/* <h1 style={{ position: 'absolute', top: '20vh', left: '125vw' }}>be</h1> */}\n            {/* <h1 style={{ position: 'absolute', top: '20vh', left: '225vw' }}>home</h1> */}\n            {/* <h1 style={{ position: 'absolute', top: '20vh', left: '325vw' }}>to</h1> */}\n            {/* <h1 style={{ position: 'absolute', top: '20vh', left: '425vw' }}>be</h1> */}\n          </Scroll>\n        </ScrollControls>\n        <Preload />\n      </Suspense>\n    </Canvas>\n  )\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AACxC,SAASC,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,QAAQ,oBAAoB;AAC/D,SAASC,cAAc,EAAEC,MAAM,EAAEC,SAAS,EAAEC,OAAO,EAAEC,KAAK,IAAIC,SAAS,QAAQ,mBAAmB;AAElG,SAASD,KAAK,CAACE,KAAK,EAAE;EACpB,IAAMC,GAAG,GAAGX,MAAM,EAAE;EACpB,IAAMY,KAAK,GAAGZ,MAAM,EAAE;EACtB,IAAMa,IAAI,GAAGP,SAAS,EAAE;EACxBJ,QAAQ,CAAC,UAACY,KAAK,EAAEC,KAAK,EAAK;IACzBH,KAAK,CAACI,OAAO,CAACC,QAAQ,CAACC,CAAC,GAAGpB,KAAK,CAACqB,SAAS,CAACC,IAAI,CAACR,KAAK,CAACI,OAAO,CAACC,QAAQ,CAACC,CAAC,EAAEG,IAAI,CAACC,GAAG,CAAC,CAAC,EAAET,IAAI,CAACE,KAAK,GAAG,EAAE,CAAC,EAAE,CAAC,EAAEA,KAAK,CAAC;IACjHJ,GAAG,CAACK,OAAO,CAACO,QAAQ,CAACC,SAAS,GAAG1B,KAAK,CAACqB,SAAS,CAACC,IAAI,CAACT,GAAG,CAACK,OAAO,CAACO,QAAQ,CAACC,SAAS,EAAEH,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAGT,IAAI,CAACE,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,EAAEA,KAAK,CAAC;EACrI,CAAC,CAAC;EACF,oBACE;IAAO,GAAG,EAAEH,KAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAChB,oBAAC,SAAS;IAAC,GAAG,EAAED;EAAI,GAAKD,KAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAI,CAC5B;AAEZ;AAEA,SAASe,IAAI,OAA8B;EAAA,kBAA3BC,CAAC;IAADA,CAAC,uBAAG,GAAG;IAAEC,IAAI,QAAJA,IAAI;IAAKjB,KAAK;EAAA,gBACnBP,QAAQ,CAAC,UAACW,KAAK;MAAA,OAAKA,KAAK,CAACc,QAAQ;IAAA,EAAC;IAA7CC,KAAK,aAALA,KAAK;EACb,IAAMC,CAAC,GAAGD,KAAK,GAAG,EAAE,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;EACtC,oBACE,+CAAWnB,KAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,iBACd,oBAAC,KAAK;IAAC,QAAQ,EAAE,CAAC,CAACmB,KAAK,GAAGC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAE;IAAC,KAAK,EAAE,CAACD,KAAK,GAAGC,CAAC,GAAGJ,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE;IAAC,GAAG,EAAEC,IAAI,CAAC,CAAC,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eACxF,oBAAC,KAAK;IAAC,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE;IAAC,KAAK,EAAE,CAACE,KAAK,GAAGC,CAAC,GAAGJ,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE;IAAC,GAAG,EAAEC,IAAI,CAAC,CAAC,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eAC9E,oBAAC,KAAK;IAAC,QAAQ,EAAE,CAACE,KAAK,GAAGC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE;IAAC,KAAK,EAAE,CAACD,KAAK,GAAGC,CAAC,GAAGJ,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE;IAAC,GAAG,EAAEC,IAAI,CAAC,CAAC,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CAChF;AAEZ;AAEA,SAASI,KAAK,GAAG;EAAA,iBACG5B,QAAQ,CAAC,UAACW,KAAK;MAAA,OAAKA,KAAK,CAACc,QAAQ;IAAA,EAAC;IAA7CC,KAAK,cAALA,KAAK;EACb,oBACE,uDAEE,oBAAC,IAAI;IAAC,QAAQ,EAAE,CAACA,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE;IAAC,IAAI,EAAE,CAAC,WAAW,EAAE,WAAW,EAAE,WAAW,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CAKnF;AAEP;AAEA,SAASG,KAAK,GAAG;EAAA,iBACG7B,QAAQ,CAAC,UAACW,KAAK;MAAA,OAAKA,KAAK,CAACc,QAAQ;IAAA,EAAC;IAA7CC,KAAK,cAALA,KAAK;EACb,IAAMC,CAAC,GAAGD,KAAK,GAAG,EAAE,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;EACtC,oBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,KAAK;IAAC,QAAQ,EAAE,CAAC,CAACA,KAAK,GAAGC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAE;IAAC,KAAK,EAAE,CAACD,KAAK,GAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE;IAAC,GAAG,EAAE,WAAY;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eAClF,oBAAC,KAAK;IAAC,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE;IAAC,KAAK,EAAE,CAACA,KAAK,GAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE;IAAC,GAAG,EAAE,WAAY;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eACxE,oBAAC,KAAK;IAAC,QAAQ,EAAE,CAACA,KAAK,GAAGC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE;IAAC,KAAK,EAAE,CAACD,KAAK,GAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE;IAAC,GAAG,EAAE,WAAY;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CAC1E;AAEZ;AAEA,eAAe,SAASI,GAAG,GAAG;EAE5B,oBACE,oBAAC,MAAM;IAAC,EAAE,EAAE;MAAEC,SAAS,EAAE;IAAM,CAAE;IAAC,GAAG,EAAE,CAAC,CAAC,EAAE,GAAG,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC9C,oBAAC,QAAQ;IAAC,QAAQ,EAAE,IAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACvB,oBAAC,cAAc;IAAC,UAAU;IAAC,OAAO,EAAE,CAAE;IAAC,KAAK,EAAE,CAAE;IAAC,QAAQ,EAAE,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC3D,oBAAC,MAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAEL,oBAAC,KAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CACF,eACT,oBAAC,MAAM;IAAC,IAAI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAEV;IAAI,KAAK,EAAE;MAAEjB,QAAQ,EAAE,UAAU;MAAEkB,GAAG,EAAE,MAAM;MAAEC,IAAI,EAAE;IAAO,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,QAAQ,CAKhE,CACM,eACjB,oBAAC,OAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CACF,CACJ;AAEb"},"metadata":{},"sourceType":"module"}